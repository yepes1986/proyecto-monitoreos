const NetworkError = require("./NetworkError");

/**
 * An error that occurs while sending a request, e.g. when there is no network connection.
 */
class RequestError extends NetworkError {
    /** @type {import("node-fetch").RequestInit} */
    request;
    /** @type {Error} the original error of the HTTP client for debugging. Do not code against this property as the internal HTTP client implementation may change anytime. */
    orignalError;

    constructor(url, request, originalError, message = `HTTP request [${request.name}] to ${url} could not be sent due to: ${originalError.toString()}.`) {
        super(message);
        this.name = "RequestError";
        this.url = url;
        this.request = request;
        this.originalError = originalError;
    }
}

module.exports = RequestError;