const debug = require('debug');
const Logger = require("./Logger");

const debugLogger = debug('xssec');
debugLogger.log = console.log.bind(console); // use console.log instead of console.error

let loggingConfig = {
    info: (message, ...args) => debugLogger(message, ...args),
    warn: (message, ...args) => debugLogger(message, ...args),
    error: (message, ...args) => debugLogger(message, ...args),
    debug: (message, ...args) => debugLogger(message, ...args)
};

function getLogger(prefix = "") {
    return new Logger(loggingConfig, prefix);
}

function setLoggers(loggers) {
    Object.assign(loggingConfig, loggers);
}

module.exports = {
    getLogger,
    setLoggers
};